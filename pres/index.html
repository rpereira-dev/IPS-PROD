<!DOCTYPE html>
<html>
  <head>
    <title>Presentation template</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" type="text/css" href="core/fonts/mono.css"> 
    <link rel="stylesheet" type="text/css" href="core/css/animate.css"> 
    <link rel="stylesheet" type="text/css" href="core/css/cinescript.css"> 
    <link rel="stylesheet" type="text/css" href="core/css/style_core.css"> 
    <link rel="stylesheet" type="text/css" href="core/css/mermaid.css"> 
    <link rel="stylesheet" type="text/css" href="core/css/gitgraph.css"> 
    <link rel="stylesheet" type="text/css" href="core/css/style_ensiie.css"> 
  </head>
  <body>
    <textarea id="source" readonly>
class: titlepage

.title[
Introduction à la programmation scientifique
]

.subtitle[
[dépot gitlab](http://gitlab.pedago.ensiie.fr/romain.pereira/IPS_1/) - Densité locale d'un système nucléaire 3D
]

.subtitle[
Clément GAVOILLE - ENSIIE - 2018
]

.subtitle[
Romain PEREIRA - ENSIIE - 2018
]

.footnote[
[:book:](./index.html#1) - Presentation Projet 2 d'IPS
]

---
layout: true
class: animated fadeIn middle numbers

.footnote[
[:book:](./index.html#1) 
Présentation Projet 2 d'IPS
]
---
class: toc 


# Sommaire

1. Description du problème physique

2. Résolution du problème

3. Structure du projet
 
  - Généralités

  - Documentation

  - Git

  - Exemple code / tests unitaires

4. Résultats

5. Tests unitaires

6. Optimisations

---

class: toc

# Structure du projet : Arborescence

<div style="display: flex; flex-direction: row;">
  <div style="flex: 1; margin: auto; transform: scale(0.8)">
  .alert.tree.hcenter[
  * Dépot
   * AUTHORS
   * bin
   * config.json
   * docs
   * includes
     * *.hpp
   * Makefile
   * obj
     * *.o
   * plot
   * pres
   * README.md
   * rho.arma
   * src
     * *.cpp
   * tests
  ]
  </div>
  
  <div style="flex: 1; margin: auto; transform: scale(0.8);">
  .alert.tree.hcenter[
  * tests
   * bin
   * Makefile
   * obj
     * *.o
   * cpp
   * src
     * *.test.h
  ]
  </div>

  <div style="flex: 1; margin: auto; transform: scale(0.8);">
  .alert.tree.hcenter[
  * plot
   * blender
     * *.blend
     * *.raw
   * povray
     * *.df3
     * arial.ttf
     * visu.png
     * visu.pov
   * pyplot
     * script.py
   ]
  </div>

</div>

???

<b>Clément</b>

---

# Structure du projet : Fichier de configuration

## config.json
<br/>
![](images/config.json.png)

```javascript
{
  "x": {
    "min": -10.0,
    "max":  10.0,
    "points": 32
  },
  "y": {
    "min": -10.0,
    "max":  10.0,
    "points": 32
  },
  "z": {
    "min": -20.0,
    "max":  20.0,
    "points": 64
  }
}
```

???

---

# Makefile

## A la racine du dépot
<br/>
![](images/makefileterm.png)

![](images/directory.png)

???

<b>Romain</b>

- help : affiche l'aide au makefile

- clean/fclean : nettoyer le dépot

- astyle : formatte le code dans un style normé

- docs : compiler la documentation en latex + html via doxygen

- tests : lance les tests unitaires

---

# Makefile

## Configuration du Makefile
<br/>
![](images/makefileconfig.png)

???

<b>Romain</b>

Le Makefile est configurable

Définit les variables 'classiques' (INCLUDES, TARGET, ...)

Définit le style astyle à utiliser

---

# Makefile : tests unitaires

![](images/testterm.png)

![](images/testsrc.png)

???

<b>Romain</b>

0 - Prends une liste de .obj en paramètre, qui seront linker au programme de test

1 - Utilise cxxtest pour convertir les tests src/*.hpp en cpp/*.cpp (seulement si .hpp a été modifié)

2 - Compile les .cpp en .o (seulement si .cpp a été modifié)

3 - Link le programme de test (seulement si .o a été modifié)

---

# Documentation (Doxygen)

![](images/doxygen.png)

## <a href="../docs/html/index.html">La documentation se situe ici</a>

???



---

# Structure du projet : Git

<br/>
![](images/git_branch.png)

---

# Exemples de code : Polynôme de Laguerre

```C++
arma::cube laguerre(arma::vec z, unsigned int mMax, unsigned int nMax) {
    // Initialisation du cube : (n_rows, n_cols, n_slices)
    arma::cube L = arma::cube(z.n_rows, mMax + 1, nMax + 1);

    // initialisation pour n=0
    // L(z, m, 0) = 1
    L.slice(0).fill(1);

    // initilisation pour n=1
    // L(z, m, 1) = 1 + m - z
    L.slice(1).fill(1);
    for (unsigned int m = 0 ; m <= mMax ; m++) {
        L.slice(1).col(m) -= z;
    }
    arma::vec mVec = arma::linspace(0, mMax, mMax + 1);
    for (unsigned int i = 0 ; i < z.n_rows ; i++) {
        L.slice(1).row(i) += mVec.t();
    }

    //création de la matrice des 'm - 1'
    arma::mat mMat(z.n_rows, mMax + 1);
    for (unsigned int i = 0 ; i < z.n_rows ; i++) {
        mMat.row(i) = mVec.t() - 1;
    }

    //création de la matrice des 'm - 1 - z'
    arma::mat mzMat(z.n_rows, mMax + 1);
    for (unsigned int m = 0 ; m <= mMax ; m++) {
        mzMat.col(m) = mMat.col(m) - z;
    }

    // calcul pour 2 <= n <= nMax
    for (unsigned int n = 2 ; n <= nMax ; n++) {
        // formule de recursivité
        L.slice(n) = (2 + mzMat / (float)n) % L.slice(n - 1) - (1.0 + mMat / (float)n) % L.slice(n - 2);
    }
    return L;
}
```

---

# Tests unitaires

Les tests unitaires clients + developpeurs passent

![](images/testok.png)

---

# Résultat : affichage de la tranche &theta;=0

Script d'affichage Python (numpy/matplotlib/pyplot)

```Python
import numpy as np
import matplotlib.pyplot as plt
import json

"""
"	fonction qui affiche un gradient 2D de la densité nucléaire
"	@param f un descripteur de fichier
"""
def plot(f):
	config = json.loads(f.readline())
	print(config)
	plt.imshow(np.loadtxt(f, dtype=np.float64), interpolation='bilinear', cmap="Blues")
	plt.title("Densité nucléaire (pour une tranche theta=0)");
	plt.xlabel("z (de %d fm à %d fm)" % (config["z"]["min"], config["z"]["max"]))
	plt.ylabel("x (de %d fm à %d fm)" % (config["x"]["min"], config["x"]["max"]))
	plt.show()

# on lit sur l'entree standart
import sys
plot(sys.stdin)
```

---

# Résultat : affichage de la tranche &theta;=0
![](images/pyplot.png)

---

# Résultat : affichage dans l'espace via povray
![](images/povray_out.png)

---

# Résultat : affichage dans l'espace via blender
![](images/blender_out.png)

---


# Conclusion

![](images/results.png)

???

<b>Romain</b>

Approprié les outils scientifiques et de developpement
présentés en cours pour mener à bien le projet!

    </textarea>

    <script src="core/javascript/remark.js"></script>
    <script src="core/javascript/plotly.js" type="text/javascript"></script>
    <script src="core/javascript/MathJax/MathJax.js?config=TeX-AMS-MML_HTMLorMML&delayStartupUntil=configured" type="text/javascript"></script>
    <script src="core/javascript/emojify.js" type="text/javascript"></script>
    <script src="core/javascript/mermaid.js" type="text/javascript"></script>
    <script src="core/javascript/term.js" type="text/javascript"></script>
    <script src="core/javascript/jquery-2.1.1.min.js" type="text/javascript"></script>
    <script src="core/javascript/extend-jquery.js" type="text/javascript"></script>
    <script src="core/javascript/cinescript.js" type="text/javascript"></script>
    <script src="core/javascript/gitgraph.js" type="text/javascript"></script>
    <script>

    // === Remark.js initialization ===
    var slideshow = remark.create({
      highlightStyle: 'monokai',
      countIncrementalSlides: false,
      highlightLines: true,
      highlightInlineCode: false
    });

    // === Mermaid.js initialization ===
    mermaid.initialize({
      startOnLoad: false,
      cloneCssStyles: false,
      flowchart:{
        height: 50
      },
      sequenceDiagram:{
        width: 110,
        height: 30
      }
    });

    function initMermaid(s) {
      var diagrams = document.querySelectorAll('.mermaid');
      var i;
      for(i=0;i<diagrams.length;i++){
        if(diagrams[i].offsetWidth>0){
          mermaid.init(undefined, diagrams[i]);
        }
      }
    }

    slideshow.on('afterShowSlide', initMermaid);
    initMermaid(slideshow.getSlides()[slideshow.getCurrentSlideIndex()]);

    // === MathJax.js initialization ===
    MathJax.Hub.Config({ tex2jax: { skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'] } }); 
    MathJax.Hub.Queue(function() { $(MathJax.Hub.getAllJax()).map(function(index, elem) { return(elem.SourceElement()); }).parent().addClass('has-jax'); });
    MathJax.Hub.Configured();

    // === Emojify.js initialization ===
    emojify.run();

    // === Cinescript initialization ===
    $(document).ready(init_cinescripts);


    // ===== plotly =====
    const trace1 = {
                  x:[-5.0000,  -4.9900,  -4.9800,  -4.9700,  -4.9600,  -4.9499,  -4.9399,  -4.9299,  -4.9199,  -4.9099,  -4.8999,  -4.8899,  -4.8799,  -4.8699,  -4.8599,  -4.8498,  -4.8398,  -4.8298,  -4.8198,  -4.8098,  -4.7998,  -4.7898,  -4.7798,  -4.7698,  -4.7598,  -4.7497,  -4.7397,  -4.7297,  -4.7197,  -4.7097,  -4.6997,  -4.6897,  -4.6797,  -4.6697,  -4.6597,  -4.6496,  -4.6396,  -4.6296,  -4.6196,  -4.6096,  -4.5996,  -4.5896,  -4.5796,  -4.5696,  -4.5596,  -4.5495,  -4.5395,  -4.5295,  -4.5195,  -4.5095,  -4.4995,  -4.4895,  -4.4795,  -4.4695,  -4.4595,  -4.4494,  -4.4394,  -4.4294,  -4.4194,  -4.4094,  -4.3994,  -4.3894,  -4.3794,  -4.3694,  -4.3594,  -4.3493,  -4.3393,  -4.3293,  -4.3193,  -4.3093,  -4.2993,  -4.2893,  -4.2793,  -4.2693,  -4.2593,  -4.2492,  -4.2392,  -4.2292,  -4.2192,  -4.2092,  -4.1992,  -4.1892,  -4.1792,  -4.1692,  -4.1592,  -4.1491,  -4.1391,  -4.1291,  -4.1191,  -4.1091,  -4.0991,  -4.0891,  -4.0791,  -4.0691,  -4.0591,  -4.0490,  -4.0390,  -4.0290,  -4.0190,  -4.0090,  -3.9990,  -3.9890,  -3.9790,  -3.9690,  -3.9590,  -3.9489,  -3.9389,  -3.9289,  -3.9189,  -3.9089,  -3.8989,  -3.8889,  -3.8789,  -3.8689,  -3.8589,  -3.8488,  -3.8388,  -3.8288,  -3.8188,  -3.8088,  -3.7988,  -3.7888,  -3.7788,  -3.7688,  -3.7588,  -3.7487,  -3.7387,  -3.7287,  -3.7187,  -3.7087,  -3.6987,  -3.6887,  -3.6787,  -3.6687,  -3.6587,  -3.6486,  -3.6386,  -3.6286,  -3.6186,  -3.6086,  -3.5986,  -3.5886,  -3.5786,  -3.5686,  -3.5586,  -3.5485,  -3.5385,  -3.5285,  -3.5185,  -3.5085,  -3.4985,  -3.4885,  -3.4785,  -3.4685,  -3.4585,  -3.4484,  -3.4384,  -3.4284,  -3.4184,  -3.4084,  -3.3984,  -3.3884,  -3.3784,  -3.3684,  -3.3584,  -3.3483,  -3.3383,  -3.3283,  -3.3183,  -3.3083,  -3.2983,  -3.2883,  -3.2783,  -3.2683,  -3.2583,  -3.2482,  -3.2382,  -3.2282,  -3.2182,  -3.2082,  -3.1982,  -3.1882,  -3.1782,  -3.1682,  -3.1582,  -3.1481,  -3.1381,  -3.1281,  -3.1181,  -3.1081,  -3.0981,  -3.0881,  -3.0781,  -3.0681,  -3.0581,  -3.0480,  -3.0380,  -3.0280,  -3.0180,  -3.0080,  -2.9980,  -2.9880,  -2.9780,  -2.9680,  -2.9580,  -2.9479,  -2.9379,  -2.9279,  -2.9179,  -2.9079,  -2.8979,  -2.8879,  -2.8779,  -2.8679,  -2.8579,  -2.8478,  -2.8378,  -2.8278,  -2.8178,  -2.8078,  -2.7978,  -2.7878,  -2.7778,  -2.7678,  -2.7578,  -2.7477,  -2.7377,  -2.7277,  -2.7177,  -2.7077,  -2.6977,  -2.6877,  -2.6777,  -2.6677,  -2.6577,  -2.6476,  -2.6376,  -2.6276,  -2.6176,  -2.6076,  -2.5976,  -2.5876,  -2.5776,  -2.5676,  -2.5576,  -2.5475,  -2.5375,  -2.5275,  -2.5175,  -2.5075,  -2.4975,  -2.4875,  -2.4775,  -2.4675,  -2.4575,  -2.4474,  -2.4374,  -2.4274,  -2.4174,  -2.4074,  -2.3974,  -2.3874,  -2.3774,  -2.3674,  -2.3574,  -2.3473,  -2.3373,  -2.3273,  -2.3173,  -2.3073,  -2.2973,  -2.2873,  -2.2773,  -2.2673,  -2.2573,  -2.2472,  -2.2372,  -2.2272,  -2.2172,  -2.2072,  -2.1972,  -2.1872,  -2.1772,  -2.1672,  -2.1572,  -2.1471,  -2.1371,  -2.1271,  -2.1171,  -2.1071,  -2.0971,  -2.0871,  -2.0771,  -2.0671,  -2.0571,  -2.0470,  -2.0370,  -2.0270,  -2.0170,  -2.0070,  -1.9970,  -1.9870,  -1.9770,  -1.9670,  -1.9570,  -1.9469,  -1.9369,  -1.9269,  -1.9169,  -1.9069,  -1.8969,  -1.8869,  -1.8769,  -1.8669,  -1.8569,  -1.8468,  -1.8368,  -1.8268,  -1.8168,  -1.8068,  -1.7968,  -1.7868,  -1.7768,  -1.7668,  -1.7568,  -1.7467,  -1.7367,  -1.7267,  -1.7167,  -1.7067,  -1.6967,  -1.6867,  -1.6767,  -1.6667,  -1.6567,  -1.6466,  -1.6366,  -1.6266,  -1.6166,  -1.6066,  -1.5966,  -1.5866,  -1.5766,  -1.5666,  -1.5566,  -1.5465,  -1.5365,  -1.5265,  -1.5165,  -1.5065,  -1.4965,  -1.4865,  -1.4765,  -1.4665,  -1.4565,  -1.4464,  -1.4364,  -1.4264,  -1.4164,  -1.4064,  -1.3964,  -1.3864,  -1.3764,  -1.3664,  -1.3564,  -1.3463,  -1.3363,  -1.3263,  -1.3163,  -1.3063,  -1.2963,  -1.2863,  -1.2763,  -1.2663,  -1.2563,  -1.2462,  -1.2362,  -1.2262,  -1.2162,  -1.2062,  -1.1962,  -1.1862,  -1.1762,  -1.1662,  -1.1562,  -1.1461,  -1.1361,  -1.1261,  -1.1161,  -1.1061,  -1.0961,  -1.0861,  -1.0761,  -1.0661,  -1.0561,  -1.0460,  -1.0360,  -1.0260,  -1.0160,  -1.0060,  -0.9960,  -0.9860,  -0.9760,  -0.9660,  -0.9560,  -0.9459,  -0.9359,  -0.9259,  -0.9159,  -0.9059,  -0.8959,  -0.8859,  -0.8759,  -0.8659,  -0.8559,  -0.8458,  -0.8358,  -0.8258,  -0.8158,  -0.8058,  -0.7958,  -0.7858,  -0.7758,  -0.7658,  -0.7558,  -0.7457,  -0.7357,  -0.7257,  -0.7157,  -0.7057,  -0.6957,  -0.6857,  -0.6757,  -0.6657,  -0.6557,  -0.6456,  -0.6356,  -0.6256,  -0.6156,  -0.6056,  -0.5956,  -0.5856,  -0.5756,  -0.5656,  -0.5556,  -0.5455,  -0.5355,  -0.5255,  -0.5155,  -0.5055,  -0.4955,  -0.4855,  -0.4755,  -0.4655,  -0.4555,  -0.4454,  -0.4354,  -0.4254,  -0.4154,  -0.4054,  -0.3954,  -0.3854,  -0.3754,  -0.3654,  -0.3554,  -0.3453,  -0.3353,  -0.3253,  -0.3153,  -0.3053,  -0.2953,  -0.2853,  -0.2753,  -0.2653,  -0.2553,  -0.2452,  -0.2352,  -0.2252,  -0.2152,  -0.2052,  -0.1952,  -0.1852,  -0.1752,  -0.1652,  -0.1552,  -0.1451,  -0.1351,  -0.1251,  -0.1151,  -0.1051,  -0.0951,  -0.0851,  -0.0751,  -0.0651,  -0.0551,  -0.0450,  -0.0350,  -0.0250,  -0.0150,  -0.0050,   0.0050,   0.0150,   0.0250,   0.0350,   0.0450,   0.0551,   0.0651,   0.0751,   0.0851,   0.0951,   0.1051,   0.1151,   0.1251,   0.1351,   0.1451,   0.1552,   0.1652,   0.1752,   0.1852,   0.1952,   0.2052,   0.2152,   0.2252,   0.2352,   0.2452,   0.2553,   0.2653,   0.2753,   0.2853,   0.2953,   0.3053,   0.3153,   0.3253,   0.3353,   0.3453,   0.3554,   0.3654,   0.3754,   0.3854,   0.3954,   0.4054,   0.4154,   0.4254,   0.4354,   0.4454,   0.4555,   0.4655,   0.4755,   0.4855,   0.4955,   0.5055,   0.5155,   0.5255,   0.5355,   0.5455,   0.5556,   0.5656,   0.5756,   0.5856,   0.5956,   0.6056,   0.6156,   0.6256,   0.6356,   0.6456,   0.6557,   0.6657,   0.6757,   0.6857,   0.6957,   0.7057,   0.7157,   0.7257,   0.7357,   0.7457,   0.7558,   0.7658,   0.7758,   0.7858,   0.7958,   0.8058,   0.8158,   0.8258,   0.8358,   0.8458,   0.8559,   0.8659,   0.8759,   0.8859,   0.8959,   0.9059,   0.9159,   0.9259,   0.9359,   0.9459,   0.9560,   0.9660,   0.9760,   0.9860,   0.9960,   1.0060,   1.0160,   1.0260,   1.0360,   1.0460,   1.0561,   1.0661,   1.0761,   1.0861,   1.0961,   1.1061,   1.1161,   1.1261,   1.1361,   1.1461,   1.1562,   1.1662,   1.1762,   1.1862,   1.1962,   1.2062,   1.2162,   1.2262,   1.2362,   1.2462,   1.2563,   1.2663,   1.2763,   1.2863,   1.2963,   1.3063,   1.3163,   1.3263,   1.3363,   1.3463,   1.3564,   1.3664,   1.3764,   1.3864,   1.3964,   1.4064,   1.4164,   1.4264,   1.4364,   1.4464,   1.4565,   1.4665,   1.4765,   1.4865,   1.4965,   1.5065,   1.5165,   1.5265,   1.5365,   1.5465,   1.5566,   1.5666,   1.5766,   1.5866,   1.5966,   1.6066,   1.6166,   1.6266,   1.6366,   1.6466,   1.6567,   1.6667,   1.6767,   1.6867,   1.6967,   1.7067,   1.7167,   1.7267,   1.7367,   1.7467,   1.7568,   1.7668,   1.7768,   1.7868,   1.7968,   1.8068,   1.8168,   1.8268,   1.8368,   1.8468,   1.8569,   1.8669,   1.8769,   1.8869,   1.8969,   1.9069,   1.9169,   1.9269,   1.9369,   1.9469,   1.9570,   1.9670,   1.9770,   1.9870,   1.9970,   2.0070,   2.0170,   2.0270,   2.0370,   2.0470,   2.0571,   2.0671,   2.0771,   2.0871,   2.0971,   2.1071,   2.1171,   2.1271,   2.1371,   2.1471,   2.1572,   2.1672,   2.1772,   2.1872,   2.1972,   2.2072,   2.2172,   2.2272,   2.2372,   2.2472,   2.2573,   2.2673,   2.2773,   2.2873,   2.2973,   2.3073,   2.3173,   2.3273,   2.3373,   2.3473,   2.3574,   2.3674,   2.3774,   2.3874,   2.3974,   2.4074,   2.4174,   2.4274,   2.4374,   2.4474,   2.4575,   2.4675,   2.4775,   2.4875,   2.4975,   2.5075,   2.5175,   2.5275,   2.5375,   2.5475,   2.5576,   2.5676,   2.5776,   2.5876,   2.5976,   2.6076,   2.6176,   2.6276,   2.6376,   2.6476,   2.6577,   2.6677,   2.6777,   2.6877,   2.6977,   2.7077,   2.7177,   2.7277,   2.7377,   2.7477,   2.7578,   2.7678,   2.7778,   2.7878,   2.7978,   2.8078,   2.8178,   2.8278,   2.8378,   2.8478,   2.8579,   2.8679,   2.8779,   2.8879,   2.8979,   2.9079,   2.9179,   2.9279,   2.9379,   2.9479,   2.9580,   2.9680,   2.9780,   2.9880,   2.9980,   3.0080,   3.0180,   3.0280,   3.0380,   3.0480,   3.0581,   3.0681,   3.0781,   3.0881,   3.0981,   3.1081,   3.1181,   3.1281,   3.1381,   3.1481,   3.1582,   3.1682,   3.1782,   3.1882,   3.1982,   3.2082,   3.2182,   3.2282,   3.2382,   3.2482,   3.2583,   3.2683,   3.2783,   3.2883,   3.2983,   3.3083,   3.3183,   3.3283,   3.3383,   3.3483,   3.3584,   3.3684,   3.3784,   3.3884,   3.3984,   3.4084,   3.4184,   3.4284,   3.4384,   3.4484,   3.4585,   3.4685,   3.4785,   3.4885,   3.4985,   3.5085,   3.5185,   3.5285,   3.5385,   3.5485,   3.5586,   3.5686,   3.5786,   3.5886,   3.5986,   3.6086,   3.6186,   3.6286,   3.6386,   3.6486,   3.6587,   3.6687,   3.6787,   3.6887,   3.6987,   3.7087,   3.7187,   3.7287,   3.7387,   3.7487,   3.7588,   3.7688,   3.7788,   3.7888,   3.7988,   3.8088,   3.8188,   3.8288,   3.8388,   3.8488,   3.8589,   3.8689,   3.8789,   3.8889,   3.8989,   3.9089,   3.9189,   3.9289,   3.9389,   3.9489,   3.9590,   3.9690,   3.9790,   3.9890,   3.9990,   4.0090,   4.0190,   4.0290,   4.0390,   4.0490,   4.0591,   4.0691,   4.0791,   4.0891,   4.0991,   4.1091,   4.1191,   4.1291,   4.1391,   4.1491,   4.1592,   4.1692,   4.1792,   4.1892,   4.1992,   4.2092,   4.2192,   4.2292,   4.2392,   4.2492,   4.2593,   4.2693,   4.2793,   4.2893,   4.2993,   4.3093,   4.3193,   4.3293,   4.3393,   4.3493,   4.3594,   4.3694,   4.3794,   4.3894,   4.3994,   4.4094,   4.4194,   4.4294,   4.4394,   4.4494,   4.4595,   4.4695,   4.4795,   4.4895,   4.4995,   4.5095,   4.5195,   4.5295,   4.5395,   4.5495,   4.5596,   4.5696,   4.5796,   4.5896,   4.5996,   4.6096,   4.6196,   4.6296,   4.6396,   4.6496,   4.6597,   4.6697,   4.6797,   4.6897,   4.6997,   4.7097,   4.7197,   4.7297,   4.7397,   4.7497,   4.7598,   4.7698,   4.7798,   4.7898,   4.7998,   4.8098,   4.8198,   4.8298,   4.8398,   4.8498,   4.8599,   4.8699,   4.8799,   4.8899,   4.8999,   4.9099,   4.9199,   4.9299,   4.9399,   4.9499,   4.9600,   4.9700,   4.9800,   4.9900,   5.0000],
                  y:[1.44237e-07,1.57421e-07,1.7177e-07,1.87385e-07,2.04373e-07,2.22849e-07,2.42941e-07,2.64784e-07,2.88524e-07,3.14322e-07,3.42347e-07,3.72786e-07,4.05839e-07,4.4172e-07,4.80664e-07,5.22922e-07,5.68764e-07,6.18482e-07,6.72392e-07,7.30833e-07,7.9417e-07,8.62798e-07,9.37141e-07,1.01765e-06,1.10483e-06,1.1992e-06,1.30132e-06,1.41182e-06,1.53134e-06,1.6606e-06,1.80036e-06,1.95142e-06,2.11466e-06,2.29104e-06,2.48154e-06,2.68726e-06,2.90936e-06,3.14908e-06,3.40776e-06,3.68684e-06,3.98783e-06,4.31239e-06,4.66228e-06,5.03938e-06,5.4457e-06,5.88341e-06,6.35482e-06,6.86238e-06,7.40875e-06,7.99674e-06,8.62937e-06,9.30986e-06,1.00416e-05,1.08284e-05,1.1674e-05,1.25828e-05,1.3559e-05,1.46076e-05,1.57335e-05,1.69422e-05,1.82394e-05,1.96313e-05,2.11244e-05,2.27257e-05,2.44425e-05,2.62828e-05,2.8255e-05,3.03678e-05,3.26309e-05,3.50543e-05,3.76487e-05,4.04254e-05,4.33965e-05,4.65748e-05,4.9974e-05,5.36083e-05,5.74932e-05,6.16448e-05,6.60802e-05,7.08178e-05,7.58767e-05,8.12773e-05,8.70414e-05,9.31917e-05,9.97525e-05,0.000106749,0.000114209,0.000122161,0.000130634,0.000139661,0.000149276,0.000159514,0.000170412,0.00018201,0.00019435,0.000207476,0.000221435,0.000236274,0.000252046,0.000268805,0.000286608,0.000305514,0.000325588,0.000346894,0.000369504,0.00039349,0.000418929,0.000445902,0.000474494,0.000504793,0.000536894,0.000570894,0.000606896,0.000645007,0.000685339,0.000728011,0.000773146,0.000820873,0.000871327,0.00092465,0.000980988,0.0010405,0.00110334,0.00116967,0.00123969,0.00131356,0.00139147,0.00147364,0.00156025,0.00165154,0.00174772,0.00184903,0.00195571,0.00206802,0.00218621,0.00231056,0.00244135,0.00257888,0.00272345,0.00287539,0.00303501,0.00320265,0.00337868,0.00356346,0.00375735,0.00396076,0.00417409,0.00439775,0.00463218,0.00487782,0.00513512,0.00540457,0.00568666,0.00598187,0.00629074,0.0066138,0.00695159,0.00730467,0.00767364,0.00805907,0.0084616,0.00888183,0.00932041,0.009778,0.0102553,0.0107529,0.0112717,0.0118122,0.0123753,0.0129616,0.013572,0.0142073,0.0148682,0.0155555,0.0162701,0.0170128,0.0177844,0.0185858,0.019418,0.0202817,0.0211779,0.0221074,0.0230712,0.0240703,0.0251054,0.0261777,0.0272879,0.0284371,0.0296262,0.0308561,0.0321279,0.0334424,0.0348005,0.0362033,0.0376517,0.0391466,0.0406889,0.0422795,0.0439193,0.0456093,0.0473502,0.049143,0.0509883,0.0528872,0.0548403,0.0568483,0.0589121,0.0610323,0.0632095,0.0654444,0.0677375,0.0700894,0.0725006,0.0749715,0.0775026,0.080094,0.0827462,0.0854594,0.0882336,0.0910691,0.0939657,0.0969236,0.0999425,0.103022,0.106163,0.109363,0.112623,0.115943,0.119321,0.122757,0.12625,0.129799,0.133403,0.137062,0.140773,0.144535,0.148347,0.152208,0.156115,0.160067,0.164062,0.168097,0.172172,0.176282,0.180427,0.184603,0.188808,0.193038,0.197292,0.201565,0.205855,0.210159,0.214472,0.218792,0.223115,0.227436,0.231753,0.23606,0.240354,0.244631,0.248886,0.253114,0.257312,0.261474,0.265596,0.269672,0.273699,0.27767,0.281581,0.285427,0.289203,0.292903,0.296522,0.300055,0.303496,0.30684,0.310082,0.313217,0.316239,0.319142,0.321922,0.324574,0.327091,0.32947,0.331704,0.33379,0.335722,0.337495,0.339105,0.340548,0.341818,0.342913,0.343827,0.344557,0.345099,0.34545,0.345607,0.345566,0.345325,0.344882,0.344234,0.343378,0.342314,0.34104,0.339555,0.337858,0.335948,0.333826,0.331491,0.328944,0.326187,0.323219,0.320044,0.316662,0.313076,0.30929,0.305305,0.301126,0.296756,0.292199,0.287461,0.282546,0.27746,0.272209,0.266798,0.261234,0.255525,0.249677,0.243698,0.237596,0.231379,0.225056,0.218636,0.212128,0.205542,0.198887,0.192174,0.185412,0.178613,0.171786,0.164944,0.158096,0.151255,0.144431,0.137637,0.130883,0.124181,0.117543,0.11098,0.104504,0.0981274,0.0918606,0.0857153,0.0797029,0.0738345,0.0681211,0.0625736,0.0572025,0.052018,0.0470303,0.042249,0.0376836,0.0333431,0.0292361,0.0253709,0.0217554,0.0183968,0.0153022,0.0124778,0.00992955,0.0076628,0.0056823,0.00399225,0.00259626,0.00149732,0.0006978,0.000199436,3.31498e-06,0.000109867,0.000518856,0.00122937,0.00223983,0.00354796,0.0051508,0.00704473,0.00922543,0.0116879,0.0144265,0.0174348,0.0207058,0.0242321,0.0280051,0.0320161,0.0362555,0.0407133,0.0453788,0.0502407,0.0552875,0.0605067,0.0658858,0.0714117,0.0770706,0.0828488,0.0887318,0.0947052,0.100754,0.106863,0.113017,0.1192,0.125397,0.131592,0.137769,0.143912,0.150005,0.156034,0.161981,0.167832,0.173571,0.179183,0.184653,0.189967,0.195111,0.200071,0.204834,0.209386,0.213716,0.217811,0.221661,0.225254,0.228582,0.231633,0.234401,0.236877,0.239053,0.240924,0.242484,0.243729,0.244653,0.245255,0.245532,0.245482,0.245106,0.244404,0.243376,0.242026,0.240356,0.23837,0.236073,0.233471,0.23057,0.227377,0.223902,0.220152,0.216137,0.211869,0.207358,0.202615,0.197655,0.192489,0.187132,0.181598,0.175902,0.170059,0.164085,0.157996,0.151809,0.14554,0.139208,0.132828,0.126418,0.119996,0.11358,0.107188,0.100836,0.0945424,0.0883246,0.0821998,0.0761848,0.0702964,0.064551,0.0589644,0.0535521,0.0483294,0.0433106,0.0385098,0.0339404,0.0296151,0.025546,0.0217445,0.0182211,0.0149859,0.0120478,0.009415,0.00709494,0.0050941,0.00341809,0.00207161,0.00105843,0.00038139,4.23965e-05,4.23965e-05,0.00038139,0.00105843,0.00207161,0.00341809,0.0050941,0.00709494,0.009415,0.0120478,0.0149859,0.0182211,0.0217445,0.025546,0.0296151,0.0339404,0.0385098,0.0433106,0.0483294,0.0535521,0.0589644,0.064551,0.0702964,0.0761848,0.0821998,0.0883246,0.0945424,0.100836,0.107188,0.11358,0.119996,0.126418,0.132828,0.139208,0.14554,0.151809,0.157996,0.164085,0.170059,0.175902,0.181598,0.187132,0.192489,0.197655,0.202615,0.207358,0.211869,0.216137,0.220152,0.223902,0.227377,0.23057,0.233471,0.236073,0.23837,0.240356,0.242026,0.243376,0.244404,0.245106,0.245482,0.245532,0.245255,0.244653,0.243729,0.242484,0.240924,0.239053,0.236877,0.234401,0.231633,0.228582,0.225254,0.221661,0.217811,0.213716,0.209386,0.204834,0.200071,0.195111,0.189967,0.184653,0.179183,0.173571,0.167832,0.161981,0.156034,0.150005,0.143912,0.137769,0.131592,0.125397,0.1192,0.113017,0.106863,0.100754,0.0947052,0.0887318,0.0828488,0.0770706,0.0714117,0.0658858,0.0605067,0.0552875,0.0502407,0.0453788,0.0407133,0.0362555,0.0320161,0.0280051,0.0242321,0.0207058,0.0174348,0.0144265,0.0116879,0.00922543,0.00704473,0.0051508,0.00354796,0.00223983,0.00122937,0.000518856,0.000109867,3.31498e-06,0.000199436,0.0006978,0.00149732,0.00259626,0.00399225,0.0056823,0.0076628,0.00992955,0.0124778,0.0153022,0.0183968,0.0217554,0.0253709,0.0292361,0.0333431,0.0376836,0.042249,0.0470303,0.052018,0.0572025,0.0625736,0.0681211,0.0738345,0.0797029,0.0857153,0.0918606,0.0981274,0.104504,0.11098,0.117543,0.124181,0.130883,0.137637,0.144431,0.151255,0.158096,0.164944,0.171786,0.178613,0.185412,0.192174,0.198887,0.205542,0.212128,0.218636,0.225056,0.231379,0.237596,0.243698,0.249677,0.255525,0.261234,0.266798,0.272209,0.27746,0.282546,0.287461,0.292199,0.296756,0.301126,0.305305,0.30929,0.313076,0.316662,0.320044,0.323219,0.326187,0.328944,0.331491,0.333826,0.335948,0.337858,0.339555,0.34104,0.342314,0.343378,0.344234,0.344882,0.345325,0.345566,0.345607,0.34545,0.345099,0.344557,0.343827,0.342913,0.341818,0.340548,0.339105,0.337495,0.335722,0.33379,0.331704,0.32947,0.327091,0.324574,0.321922,0.319142,0.316239,0.313217,0.310082,0.30684,0.303496,0.300055,0.296522,0.292903,0.289203,0.285427,0.281581,0.27767,0.273699,0.269672,0.265596,0.261474,0.257312,0.253114,0.248886,0.244631,0.240354,0.23606,0.231753,0.227436,0.223115,0.218792,0.214472,0.210159,0.205855,0.201565,0.197292,0.193038,0.188808,0.184603,0.180427,0.176282,0.172172,0.168097,0.164062,0.160067,0.156115,0.152208,0.148347,0.144535,0.140773,0.137062,0.133403,0.129799,0.12625,0.122757,0.119321,0.115943,0.112623,0.109363,0.106163,0.103022,0.0999425,0.0969236,0.0939657,0.0910691,0.0882336,0.0854594,0.0827462,0.080094,0.0775026,0.0749715,0.0725006,0.0700894,0.0677375,0.0654444,0.0632095,0.0610323,0.0589121,0.0568483,0.0548403,0.0528872,0.0509883,0.049143,0.0473502,0.0456093,0.0439193,0.0422795,0.0406889,0.0391466,0.0376517,0.0362033,0.0348005,0.0334424,0.0321279,0.0308561,0.0296262,0.0284371,0.0272879,0.0261777,0.0251054,0.0240703,0.0230712,0.0221074,0.0211779,0.0202817,0.019418,0.0185858,0.0177844,0.0170128,0.0162701,0.0155555,0.0148682,0.0142073,0.013572,0.0129616,0.0123753,0.0118122,0.0112717,0.0107529,0.0102553,0.009778,0.00932041,0.00888183,0.0084616,0.00805907,0.00767364,0.00730467,0.00695159,0.0066138,0.00629074,0.00598187,0.00568666,0.00540457,0.00513512,0.00487782,0.00463218,0.00439775,0.00417409,0.00396076,0.00375735,0.00356346,0.00337868,0.00320265,0.00303501,0.00287539,0.00272345,0.00257888,0.00244135,0.00231056,0.00218621,0.00206802,0.00195571,0.00184903,0.00174772,0.00165154,0.00156025,0.00147364,0.00139147,0.00131356,0.00123969,0.00116967,0.00110334,0.0010405,0.000980988,0.00092465,0.000871327,0.000820873,0.000773146,0.000728011,0.000685339,0.000645007,0.000606896,0.000570894,0.000536894,0.000504793,0.000474494,0.000445902,0.000418929,0.00039349,0.000369504,0.000346894,0.000325588,0.000305514,0.000286608,0.000268805,0.000252046,0.000236274,0.000221435,0.000207476,0.00019435,0.00018201,0.000170412,0.000159514,0.000149276,0.000139661,0.000130634,0.000122161,0.000114209,0.000106749,9.97525e-05,9.31917e-05,8.70414e-05,8.12773e-05,7.58767e-05,7.08178e-05,6.60802e-05,6.16448e-05,5.74932e-05,5.36083e-05,4.9974e-05,4.65748e-05,4.33965e-05,4.04254e-05,3.76487e-05,3.50543e-05,3.26309e-05,3.03678e-05,2.8255e-05,2.62828e-05,2.44425e-05,2.27257e-05,2.11244e-05,1.96313e-05,1.82394e-05,1.69422e-05,1.57335e-05,1.46076e-05,1.3559e-05,1.25828e-05,1.1674e-05,1.08284e-05,1.00416e-05,9.30986e-06,8.62937e-06,7.99674e-06,7.40875e-06,6.86238e-06,6.35482e-06,5.88341e-06,5.4457e-06,5.03938e-06,4.66228e-06,4.31239e-06,3.98783e-06,3.68684e-06,3.40776e-06,3.14908e-06,2.90936e-06,2.68726e-06,2.48154e-06,2.29104e-06,2.11466e-06,1.95142e-06,1.80036e-06,1.6606e-06,1.53134e-06,1.41182e-06,1.30132e-06,1.1992e-06,1.10483e-06,1.01765e-06,9.37141e-07,8.62798e-07,7.9417e-07,7.30833e-07,6.72392e-07,6.18482e-07,5.68764e-07,5.22922e-07,4.80664e-07,4.4172e-07,4.05839e-07,3.72786e-07,3.42347e-07,3.14322e-07,2.88524e-07,2.64784e-07,2.42941e-07,2.22849e-07,2.04373e-07,1.87385e-07,1.7177e-07,1.57421e-07,1.44237e-07],
                  type: 'scatter',
                  smooth: 'best'
                 };
    Plotly.newPlot('plotly00', [trace1], {
                                          title: "Probabilité de présence particule, n=3",
                                          autosize: false,
                                          width: 400,
                                          height: 220,
                                          margin: {l: 50, r: 50, b: 50, t: 50, p: 10},
                                          xaxis: {title: 'Z-axis'},
                                          yaxis: {title: 'Probabilité de présence'},
                                         });

	const trace2 = {
		  x: trace1.x,
		  y: [0],
		  z: [trace1.y],
                  type: 'heatmap',
                  colorscale: [ [0.0,'#000000'], [0.1,'#0000FF'], [0.3,'#00FFFF'], [0.5,'#00FF00'], [0.7,'#FFFF00'], [0.9,'#FF0000'], [1.0,'#FFFFFF'] ],
                  colorbar: {ypad: 0, xpad: 0, thickness: 20, ticks: '', showticklabels: true},
                  zsmooth: 'best'
                 };
    Plotly.newPlot('plotly01', [trace2], {
                                          title: 'Probabilité de présence, n=3',
                                          autosize: false,
                                          width: 400,
                                          height: 220,
                                          margin: {l: 50, r: 0, b: 50, t: 80, p: 10},
                                          xaxis: {title: 'Z-axis'},
                                          yaxis: {title: '-'},
                                         });

    


	</script>
  </body>
</html>

